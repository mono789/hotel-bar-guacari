{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\estra\\\\OneDrive\\\\Escritorio\\\\Hotel\\\\hotel-bar-guacari\\\\frontend\\\\src\\\\screens\\\\category\\\\CategoryEditScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\n/* Components */\nimport Message from \"../../components/Message\";\nimport Loader from \"../../components/Loader\";\nimport HeaderContent from \"../../components/HeaderContent\";\nimport Input from \"../../components/form/Input\";\nimport ButtonGoBack from \"../../components/ButtonGoBack\";\n\n/* Constants */\nimport { CATEGORY_UPDATE_RESET, CATEGORY_DETAILS_RESET, CATEGORY_DELETE_RESET } from \"../../constants/categoryConstants\";\n\n/* Actions */\nimport { updateCategory, listCategoryDetails } from \"../../actions/categoryActions\";\nimport LoaderHandler from \"../../components/loader/LoaderHandler\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CategoryEditScreen = ({\n  history,\n  match\n}) => {\n  _s();\n  const categoryId = parseInt(match.params.id);\n  const [name, setName] = useState(\"\");\n  const [errors, setErrors] = useState({});\n  const dispatch = useDispatch();\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n\n  //category details state\n  const categoryDetails = useSelector(state => state.categoryDetails);\n  const {\n    loading,\n    error,\n    category\n  } = categoryDetails;\n\n  //category update state\n  const categoryUpdate = useSelector(state => state.categoryUpdate);\n  const {\n    loading: loadingUpdate,\n    error: errorUpdate,\n    success: successUpdate\n  } = categoryUpdate;\n  useEffect(() => {\n    //after update redirect to users\n    if (successUpdate) {\n      dispatch({\n        type: CATEGORY_UPDATE_RESET\n      });\n      dispatch({\n        type: CATEGORY_DETAILS_RESET\n      });\n      dispatch({\n        type: CATEGORY_DELETE_RESET\n      });\n      history.push(\"/category\");\n    }\n\n    //load product data\n    if (category) {\n      if (!category.name || category.id !== categoryId) {\n        dispatch(listCategoryDetails(categoryId));\n      } else {\n        //set states\n        setName(category.name);\n      }\n    }\n  }, [dispatch, history, categoryId, category, successUpdate]);\n  const handleSubmit = e => {\n    e.preventDefault();\n    let errorsCheck = {};\n    if (!name) {\n      errorsCheck.name = \"Nombre es requerido\";\n    }\n    if (Object.keys(errorsCheck).length > 0) {\n      setErrors(errorsCheck);\n    } else {\n      setErrors({});\n    }\n    if (Object.keys(errorsCheck).length === 0) {\n      dispatch(updateCategory({\n        id: categoryId,\n        name\n      }));\n    }\n  };\n  const renderForm = () => /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      name: \"nombre\",\n      type: \"text\",\n      data: name,\n      setData: setName,\n      errors: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-success\",\n      children: \"Confirmar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 9\n  }, this);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(HeaderContent, {\n      name: \"Categorias\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid\",\n        children: [/*#__PURE__*/_jsxDEV(ButtonGoBack, {\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-12 col-md-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-header\",\n                children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"card-title\",\n                  children: \"Editar Categor\\xEDa\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"card-body\",\n                children: [/*#__PURE__*/_jsxDEV(LoaderHandler, {\n                  loading: loadingUpdate,\n                  error: errorUpdate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(LoaderHandler, {\n                  loading: loading,\n                  error: error,\n                  render: renderForm\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 132,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s(CategoryEditScreen, \"40i5246LqQE59n1676R+SMK26/0=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n_c = CategoryEditScreen;\nexport default CategoryEditScreen;\nvar _c;\n$RefreshReg$(_c, \"CategoryEditScreen\");","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","Message","Loader","HeaderContent","Input","ButtonGoBack","CATEGORY_UPDATE_RESET","CATEGORY_DETAILS_RESET","CATEGORY_DELETE_RESET","updateCategory","listCategoryDetails","LoaderHandler","jsxDEV","_jsxDEV","Fragment","_Fragment","CategoryEditScreen","history","match","_s","categoryId","parseInt","params","id","name","setName","errors","setErrors","dispatch","userLogin","state","userInfo","categoryDetails","loading","error","category","categoryUpdate","loadingUpdate","errorUpdate","success","successUpdate","type","push","handleSubmit","e","preventDefault","errorsCheck","Object","keys","length","renderForm","onSubmit","children","data","setData","fileName","_jsxFileName","lineNumber","columnNumber","className","render","_c","$RefreshReg$"],"sources":["C:/Users/estra/OneDrive/Escritorio/Hotel/hotel-bar-guacari/frontend/src/screens/category/CategoryEditScreen.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\n/* Components */\r\nimport Message from \"../../components/Message\";\r\nimport Loader from \"../../components/Loader\";\r\nimport HeaderContent from \"../../components/HeaderContent\";\r\nimport Input from \"../../components/form/Input\";\r\nimport ButtonGoBack from \"../../components/ButtonGoBack\";\r\n\r\n/* Constants */\r\nimport {\r\n    CATEGORY_UPDATE_RESET,\r\n    CATEGORY_DETAILS_RESET,\r\n    CATEGORY_DELETE_RESET,\r\n} from \"../../constants/categoryConstants\";\r\n\r\n/* Actions */\r\nimport {\r\n    updateCategory,\r\n    listCategoryDetails,\r\n} from \"../../actions/categoryActions\";\r\nimport LoaderHandler from \"../../components/loader/LoaderHandler\";\r\n\r\nconst CategoryEditScreen = ({ history, match }) => {\r\n    const categoryId = parseInt(match.params.id);\r\n\r\n    const [name, setName] = useState(\"\");\r\n\r\n    const [errors, setErrors] = useState({});\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { userInfo } = userLogin;\r\n\r\n    //category details state\r\n    const categoryDetails = useSelector((state) => state.categoryDetails);\r\n    const { loading, error, category } = categoryDetails;\r\n\r\n    //category update state\r\n    const categoryUpdate = useSelector((state) => state.categoryUpdate);\r\n    const {\r\n        loading: loadingUpdate,\r\n        error: errorUpdate,\r\n        success: successUpdate,\r\n    } = categoryUpdate;\r\n\r\n    useEffect(() => {\r\n        //after update redirect to users\r\n        if (successUpdate) {\r\n            dispatch({ type: CATEGORY_UPDATE_RESET });\r\n            dispatch({ type: CATEGORY_DETAILS_RESET });\r\n            dispatch({ type: CATEGORY_DELETE_RESET });\r\n            history.push(\"/category\");\r\n        }\r\n\r\n        //load product data\r\n        if (category) {\r\n            if (!category.name || category.id !== categoryId) {\r\n                dispatch(listCategoryDetails(categoryId));\r\n            } else {\r\n                //set states\r\n                setName(category.name);\r\n            }\r\n        }\r\n    }, [dispatch, history, categoryId, category, successUpdate]);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        let errorsCheck = {};\r\n\r\n        if (!name) {\r\n            errorsCheck.name = \"Nombre es requerido\";\r\n        }\r\n\r\n        if (Object.keys(errorsCheck).length > 0) {\r\n            setErrors(errorsCheck);\r\n        } else {\r\n            setErrors({});\r\n        }\r\n\r\n        if (Object.keys(errorsCheck).length === 0) {\r\n            dispatch(\r\n                updateCategory({\r\n                    id: categoryId,\r\n                    name,\r\n                })\r\n            );\r\n        }\r\n    };\r\n\r\n    const renderForm = () => (\r\n        <form onSubmit={handleSubmit}>\r\n            <Input\r\n                name={\"nombre\"}\r\n                type={\"text\"}\r\n                data={name}\r\n                setData={setName}\r\n                errors={errors}\r\n            />\r\n            <hr />\r\n            <button type=\"submit\" className=\"btn btn-success\">\r\n                Confirmar\r\n            </button>\r\n        </form>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            {/* Content Header (Page header) */}\r\n            <HeaderContent name={\"Categorias\"} />\r\n            {/* Main content */}\r\n\r\n            <section className=\"content\">\r\n                <div className=\"container-fluid\">\r\n                    <ButtonGoBack history={history} />\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-12 col-md-6\">\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    <h3 className=\"card-title\">\r\n                                        Editar Categor√≠a\r\n                                    </h3>\r\n                                </div>\r\n                                {/* /.card-header */}\r\n                                <div className=\"card-body\">\r\n                                    <LoaderHandler\r\n                                        loading={loadingUpdate}\r\n                                        error={errorUpdate}\r\n                                    />\r\n                                    <LoaderHandler\r\n                                        loading={loading}\r\n                                        error={error}\r\n                                        render={renderForm}\r\n                                    />\r\n                                </div>\r\n                                {/* /.card-body */}\r\n                            </div>\r\n                        </div>\r\n                        {/* /.col */}\r\n                    </div>\r\n                    {/* /.row */}\r\n                </div>\r\n                {/* /.container-fluid */}\r\n            </section>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default CategoryEditScreen;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}